<template>
  <lightning-card title="Open Repairs">
    <template if:true={isAccountsLoading}>
      <div class="loading-screen">
        <lightning-spinner
          alternative-text="Loading..."
          size="medium"
        ></lightning-spinner>
      </div>
    </template>
    <template if:false={isAccountLoading}>
      <div class="filters">
        <lightning-combobox
          name="station"
          label="Station"
          value={station}
          placeholder="Select a station"
          options={stationOptions}
          onchange={handleStationChange}
        ></lightning-combobox>

        <!-- <div>
          <lightning-input
            label="Search Customer"
            type="search"
            placeholder="Type to search customers"
            value={nameSearchKey}
            onchange={handleNameSearch}
          ></lightning-input>
          <template if:true={showCustomerResults}>
            <ul class="lookup-dropdown">
              <template for:each={customerResults} for:item="customer">
                <li key={customer.Id} onclick={handleCustomerSelect}>
                  {customer.Name}
                </li>
              </template>
            </ul>
          </template>
        </div> -->

        <c-lookup-input
          label="Name"
          placeholder="This is a place holder"
          onsearch={handleCustomerSearch}
          onselect={handleCustomerSelect}
        ></c-lookup-input>
      </div>

      <template if:true={rows.length}>
        <div class="datatable-container">
          <lightning-datatable
            key-field="id"
            data={rows}
            columns={columns}
            hide-checkbox-column
          ></lightning-datatable>
          <div class="btn-container">
            <lightning-button
              label="Previous"
              onclick={prevPage}
              disabled={isPrevDisabled}
            ></lightning-button>
            <lightning-button
              label="Next"
              onclick={nextPage}
            ></lightning-button>
          </div>
        </div>
      </template>
      <template if:false={rows.length}>
        <div class="slds-p-around_medium slds-text-align_center">
          No data found.
        </div>
      </template>
    </template>
  </lightning-card>
</template>